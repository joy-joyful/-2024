import streamlit as st

# 타이틀 설정
st.title('간단한 성격 검사로 알아보는 나의 MBTI')

# 사용자 질문
st.write('다음 질문에 답해주세요:')

q1 = st.radio('1. 친구와의 약속이 취소되었을 때 당신의 반응은?', ('기쁨: 혼자만의 시간을 가질 수 있어서 좋다.', '실망: 친구와의 시간을 기대했었는데...'))
q2 = st.radio('2. 중요한 결정을 내릴 때, 당신은 어떻게 하나요?', ('논리적으로 생각하고 분석 후 결정한다.', '직관적으로 느끼는 대로 결정한다.'))
q3 = st.radio('3. 새로운 사람을 만났을 때, 당신은 어떻게 행동하나요?', ('나서서 먼저 말을 건다.', '상대방이 말을 걸 때까지 기다린다.'))
q4 = st.radio('4. 일정을 계획할 때, 당신은 어떤 방식을 선호하나요?', ('미리 계획을 세워 철저히 준비한다.', '즉흥적으로 계획을 세우고 유연하게 변경한다.'))
q5 = st.radio('5. 문제를 해결할 때, 당신은 어떤 접근 방식을 선호하나요?', ('실용적인 해결책을 찾는다.', '창의적이고 새로운 접근 방식을 시도한다.'))

# MBTI 유형 결정 논리
if st.button('결과 확인'):
    # E/I 결정 (외향/내향)
    if q1 == '실망: 친구와의 시간을 기대했었는데...' and q3 == '나서서 먼저 말을 건다.':
        ei = 'E'
    else:
        ei = 'I'
    
    # S/N 결정 (감각/직관)
    if q2 == '논리적으로 생각하고 분석 후 결정한다.':
        sn = 'S'
    else:
        sn = 'N'
    
    # T/F 결정 (사고/감정)
    if q5 == '실용적인 해결책을 찾는다.':
        tf = 'T'
    else:
        tf = 'F'
    
    # J/P 결정 (판단/인식)
    if q4 == '미리 계획을 세워 철저히 준비한다.':
        jp = 'J'
    else:
        jp = 'P'
    
    # 최종 MBTI 유형
    mbti = ei + sn + tf + jp
    
    # 성격 및 직업 정보 사전 정의
    mbti_info = {
        'INFP': {
            'description': '중재자: 이상주의적이고 가치 지향적인 성격으로, 깊은 감정과 공감을 바탕으로 행동합니다.',
            'jobs': ['상담사', '작가', '예술가', '심리학자']
        },
        'INFJ': {
            'description': '옹호자: 독창적이고 통찰력이 있으며, 강한 도덕적 나침반을 가지고 있습니다.',
            'jobs': ['상담사', '작가', '교사', '사회운동가']
        },
        'ENFP': {
            'description': '활동가: 창의적이고 열정적이며 타인의 감정을 잘 이해합니다. 새로운 아이디어를 시도하는 것을 좋아합니다.',
            'jobs': ['마케팅 전문가', '기자', '이벤트 기획자', '배우']
        },
        'ENFJ': {
            'description': '교사: 카리스마 있고 타인을 동기부여시키며, 사람들과의 관계를 중요하게 생각합니다.',
            'jobs': ['교사', 'HR 전문가', '컨설턴트', '정치인']
        },
        'INTJ': {
            'description': '전략가: 독립적이고 분석적인 사고를 지니며, 장기적인 계획을 세우는 것을 즐깁니다.',
            'jobs': ['과학자', '엔지니어', '전략 기획자', '교수']
        },
        'INTP': {
            'description': '논리학자: 이론적이고 창의적이며, 복잡한 문제를 해결하는 것을 즐깁니다.',
            'jobs': ['연구원', '프로그래머', '데이터 과학자', '철학자']
        },
        'ENTP': {
            'description': '변론가: 논쟁을 즐기며, 새로운 아이디어와 도전을 환영하는 성격입니다.',
            'jobs': ['변호사', '창업가', '마케팅 전문가', '기술 전문가']
        },
        'ENTJ': {
            'description': '통솔자: 강한 리더십을 발휘하며, 조직의 목표를 달성하기 위해 결단력 있게 행동합니다.',
            'jobs': ['경영자', '기업가', '변호사', '정치인']
        },
        'ISFJ': {
            'description': '수호자: 책임감 있고 신뢰할 수 있으며, 타인을 도우며 평화를 유지하는 것을 좋아합니다.',
            'jobs': ['간호사', '교사', '행정가', '사회복지사']
        },
        'ISTJ': {
            'description': '현실주의자: 신뢰성 있고 조직적인 성격으로, 전통과 질서를 중시합니다.',
            'jobs': ['회계사', '법무사', '행정가', '경찰관']
        },
        'ESFJ': {
            'description': '집정관: 타인에게 도움을 주고, 협력을 중요시하며, 강한 책임감을 느낍니다.',
            'jobs': ['교사', '간호사', 'HR 전문가', '이벤트 기획자']
        },
        'ESTJ': {
            'description': '경영자: 체계적이고 조직적이며 현실적입니다. 규칙을 중시하고 리더십을 발휘합니다.',
            'jobs': ['관리자', '경영자', '군인', '판사']
        },
        'ISFP': {
            'description': '예술가: 유연하고 적응력이 뛰어나며, 즉흥적이고 예술적인 표현을 선호합니다.',
            'jobs': ['예술가', '디자이너', '사진작가', '음악가']
        },
        'ISTP': {
            'description': '장인: 논리적이고 실용적인 사고를 바탕으로 문제 해결에 집중합니다.',
            'jobs': ['엔지니어', '정비사', '파일럿', '탐험가']
        },
        'ESFP': {
            'description': '연예인: 사교적이고 활기찬 성격으로, 사람들과 함께하는 것을 즐기며 현재의 순간을 중요시합니다.',
            'jobs': ['배우', '음악가', '이벤트 기획자', '관광 가이드']
        },
        'ESTP': {
            'description': '사업가: 도전적인 상황에서 빠르게 결단을 내리며, 실용적이고 결과 지향적입니다.',
            'jobs': ['영업 전문가', '기업가', '트레이더', '스포츠 코치']
        }
    }

    # 결과 출력
    if mbti in mbti_info:
        info = mbti_info[mbti]
        st.write(f"당신의 MBTI 유형은 **{mbti}**입니다!")
        st.write(f"{mbti} - {info['description']}")
        st.write('추천 직업: ' + ', '.join(info['jobs']))
        st.write('이제, 당신의 성격을 바탕으로 꿈을 향해 한 걸음 더 나아가세요!')
    else:
        st.write('결과를 도출하는 데 문제가 발생했습니다. 다시 시도해주세요.')
